<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <h1 class="text-2xl font-bold mb-4">Admin Dashboard</h1>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="card bg-white p-4 rounded-lg shadow-md cursor-pointer" data-target="ordersTable">
                <h3 class="text-lg font-semibold">Total Orders</h3>
                <p class="text-2xl">{{orders.length}}</p>
            </div>
            <div class="card bg-white p-4 rounded-lg shadow-md cursor-pointer" data-target="usersTable">
                <h3 class="text-lg font-semibold">Total Users</h3>
                <p class="text-2xl">{{users.length}}</p>
            </div>
            <div class="card bg-white p-4 rounded-lg shadow-md cursor-pointer" data-target="productsTable">
                <h3 class="text-lg font-semibold">Total Products</h3>
                <p class="text-2xl">{{products.length}}</p>
            </div>
            <div class="card bg-white p-4 rounded-lg shadow-md cursor-pointer" data-target="offersTable">
                <h3 class="text-lg font-semibold">Total Offers</h3>
                <p class="text-2xl">{{offers.length}}</p>
            </div>
        </div>

        <!-- Orders Table -->
        <div id="ordersTable" class="table-container hidden">
            <h2 class="text-xl font-semibold mb-2">Orders</h2>
            <table class="min-w-full bg-white">
                <thead>
                    <tr>
                        <th class="py-2 px-4 border-b">Order ID</th>
                        <th class="py-2 px-4 border-b">User ID</th>
                        <th class="py-2 px-4 border-b">Product ID</th>
                        <th class="py-2 px-4 border-b">Total Amount</th>
                        <th class="py-2 px-4 border-b">Payment Status</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each orders}}
                    <tr>
                        <td class="py-2 px-4 border-b">{{this._id}}</td>
                        <td class="py-2 px-4 border-b">{{this.createdBy}}</td>
                        <td class="py-2 px-4 border-b">{{this.productId}}</td>
                        <td class="py-2 px-4 border-b">{{this.totalAmount}}</td>
                        <td class="py-2 px-4 border-b">{{this.paymentStatus}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>

        <!-- Users Table -->
        <div id="usersTable" class="table-container hidden">
            <h2 class="text-xl font-semibold mb-2">Users</h2>
            <table class="min-w-full bg-white">
                <thead>
                    <tr>
                        <th class="py-2 px-4 border-b">User ID</th>
                        <th class="py-2 px-4 border-b">Username</th>
                        <th class="py-2 px-4 border-b">Email</th>
                        <th class="py-2 px-4 border-b">Role</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each users}}
                    <tr>
                        <td class="py-2 px-4 border-b">{{this._id}}</td>
                        <td class="py-2 px-4 border-b">{{this.username}}</td>
                        <td class="py-2 px-4 border-b">{{this.email}}</td>
                        <td class="py-2 px-4 border-b">{{this.role}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>

        <!-- Products Table -->
        <div id="productsTable" class="table-container hidden">
            <h2 class="text-xl font-semibold mb-2">Products</h2>
            <table class="min-w-full bg-white">
                <thead>
                    <tr>
                        <th class="py-2 px-4 border-b">Product ID</th>
                        <th class="py-2 px-4 border-b">Title</th>
                        <th class="py-2 px-4 border-b">Price</th>
                        <th class="py-2 px-4 border-b">Category</th>
                        <th class="py-2 px-4 border-b">Condition</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each products}}
                    <tr>
                        <td class="py-2 px-4 border-b">{{this._id}}</td>
                        <td class="py-2 px-4 border-b">{{this.title}}</td>
                        <td class="py-2 px-4 border-b">{{this.price}}</td>
                        <td class="py-2 px-4 border-b">{{this.category}}</td>
                        <td class="py-2 px-4 border-b">{{this.condition}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>

        <!-- Offers Table -->
        <div id="offersTable" class="table-container hidden">
            <h2 class="text-xl font-semibold mb-2">Offers</h2>
            <table class="min-w-full bg-white">
                <thead>
                    <tr>
                        <th class="py-2 px-4 border-b">Offer ID</th>
                        <th class="py-2 px-4 border-b">Product ID</th>
                        <th class="py-2 px-4 border-b">User ID</th>
                        <th class="py-2 px-4 border-b">Price</th>
                        <th class="py-2 px-4 border-b">Status</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each offers}}
                    <tr>
                        <td class="py-2 px-4 border-b">{{this._id}}</td>
                        <td class="py-2 px-4 border-b">{{this.product}}</td>
                        <td class="py-2 px-4 border-b">{{this.user}}</td>
                        <td class="py-2 px-4 border-b">{{this.price}}</td>
                        <td class="py-2 px-4 border-b">{{this.status}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // JavaScript to toggle table visibility
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', () => {
                document.querySelectorAll('.table-container').forEach(table => {
                    table.classList.add('hidden');
                });
                const targetId = card.getAttribute('data-target');
                document.getElementById(targetId).classList.remove('hidden');
            });
        });
    </script>
</body>

</html>
